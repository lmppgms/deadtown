<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10</depth>
  <persistent>0</persistent>
  <parentName>par_sys</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// game start

// player position
if 0
{
    obj_player.x = 900
    obj_player.y = 700
    obj_player_body.x = 900
    obj_player_body.y = 700
    obj_player_knife.x = 900
    obj_player_knife.y = 700
}

if 1
{
    game_clear()
    lang_type_set(global.setting_lang)
    if game_load_protect(global.save_file_name) == 0 // new game
    {
    
        ins = instance_find(obj_portal,irandom_range(0,instance_number(obj_portal)-1))
        obj_player.x = ins.x
        obj_player.y = ins.y
        
        sys_view.view_a = random(360)
        
        with(obj_portal)
        {instance_destroy()}
    
        ins = instance_create(x,y,sys_player_weapon)
        ins.pointer = 0
        global.equip_weapon = 0
        
        global.day_no_hit = 0
        global.day_attract = 0
        
        item_get(3,12,3)
        item_get(3,9,3)
    }
    else 
    {
        with(obj_portal)
        {instance_destroy()}
    }
    
    repeat global.shop_db[0,5]
    {
        //"Cotton clothes X 1#Axe X 1#Flashlight X 1"
        item_get(2,0,1)
        item_get(1,2,1)
        item_get(2,13,1)
    }
    global.shop_db[0,5] = 0
    
    repeat global.shop_db[1,5]
    {
        //"Cooked meat X 3#Pizza X 3#Cooked meal X 3"
        item_get(3,1,3)
        item_get(3,11,3)
        item_get(3,14,3)
    }
    global.shop_db[1,5] = 0
    
    repeat global.shop_db[2,5]
    {
        //"First aid kit X 2#Bandage X 3#Adrenaline X 2"
        item_get(3,5,2)
        item_get(3,12,3)
        item_get(3,7,2)
    }
    global.shop_db[2,5] = 0
    
    repeat global.shop_db[3,5]
    {
        //"Wood X 20#Cloth X 10#Stone X 20"
        item_get(4,23,20)
        item_get(4,34,10)
        item_get(4,24,20)
    }
    global.shop_db[3,5] = 0
    
    repeat global.shop_db[4,5]
    {
        //"Blueprint X 5#Steel X 20#Machine parts X 10"
        item_get(4,29,5)
        item_get(4,26,20)
        item_get(4,30,10)
    }
    global.shop_db[4,5] = 0
    
    repeat global.shop_db[5,5]
    {
        //"Battery X 5#Computer chip X 2#Bulb X 2"
        item_get(4,31,5)
        item_get(4,35,2)
        item_get(4,32,2)
    }
    global.shop_db[5,5] = 0
    
    repeat global.shop_db[6,5]
    {
        //"Steel X 10#Gunpowder X 10"
        item_get(4,26,10)
        item_get(4,33,10)
    }
    global.shop_db[6,5] = 0
    
    repeat global.shop_db[7,5]
    {
        //"Pigeon the bird X 1"
        item_get(2,17,1)
    }
    global.shop_db[7,5] = 0
    
    repeat global.shop_db[8,5]
    {
        //"Carolina the dog X 1"
        item_get(2,21,1)
    }
    global.shop_db[8,5] = 0
    
    shop_inven_save()
    
    if global.iap_purchase_info[5,0]
    {
        //"Pigeon"
        if item_count(2,17) == 0 and global.equip_deco != 17
        {item_get(2,17,1)}
    }
    if global.iap_purchase_info[6,0]
    {
        //"White pigeon"
        if item_count(2,18) == 0 and global.equip_deco != 18
        {item_get(2,18,1)}
    }
    if global.iap_purchase_info[7,0]
    {
        //"Eagle"
        if item_count(2,19) == 0 and global.equip_deco != 19
        {item_get(2,19,1)}
    }
    if global.iap_purchase_info[8,0]
    {
        //"Carolina"
        if item_count(2,21) == 0 and global.equip_deco != 21
        {item_get(2,21,1)}
    }
    if global.iap_purchase_info[9,0]
    {
        //"Malamute"
        if item_count(2,20) == 0 and global.equip_deco != 20
        {item_get(2,20,1)}
    }
    if global.iap_purchase_info[10,0]
    {
        //"Doberman"
        if item_count(2,22) == 0 and global.equip_deco != 22
        {item_get(2,22,1)}
    }
    if global.iap_purchase_info[11,0]
    {
        //"Santa"
        if item_count(2,23) == 0 and global.equip_deco != 23
        {item_get(2,23,1)}
    }
    if global.iap_purchase_info[12,0]
    {
        //"zombie"
        if item_count(2,24) == 0 and global.equip_deco != 24
        {item_get(2,24,1)}
    }
    if global.iap_purchase_info[13,0]
    {
        //"Cowboy"
        if item_count(2,25) == 0 and global.equip_deco != 25
        {item_get(2,25,1)}
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// trans
screen_alpha = 1
screen_alpha_speed = 0.05
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// save system
global.save_request = 0
global.save_after = 0
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// bgm

bgm_time = 30*60*3
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>301</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_set_alarm</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>150</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>301</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_set_alarm</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>bgm_time/2</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>1</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if audio_is_playing(snd_bgm1)
{
    alarm[1] = 30*3
}
else
{
    audio_play_sound(snd_bgm1,0,0)
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>301</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_set_alarm</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>bgm_time</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>1</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.save_request = 1
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>301</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_set_alarm</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>150</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// save active
if global.save_request == 1
{
    global.save_request = 2
    instance_activate_all()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// game save
if global.save_request == 2
{
    game_save_protect(global.save_file_name)
    
    global.save_request = 0
    
    if global.save_after == 1
    {
        room_goto(rom_lobby)
        global.trans = 0
    }
    if global.save_after == 2
    {
        room_goto(rom_shop)
        global.trans = 0
    }
    if global.save_after == 3
    {
        room_goto(rom_setting)
        global.trans = 0
    }
    if global.save_after == 4
    {
        if sys_UI.pause == 0
        {
            sys_UI.pause_request = 1
            sys_UI.pause_kind = 2
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// randomize
randomize()
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// audio
audio_group_set_gain(ag_effect,global.setting_sound_effect,0)
audio_group_set_gain(ag_bgm,global.setting_bgm,0)

audio_listener_position(obj_player.x, obj_player.y, 5);

audio_listener_orientation(0, 0, 1000, lengthdir_x(1,sys_view.view_a+90), lengthdir_y(1,sys_view.view_a+90), 0);
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// trans
if screen_alpha_speed &lt; screen_alpha
{
    screen_alpha -= screen_alpha_speed
}
else
{
    screen_alpha = 0
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>audio_stop_all()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="75">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if 0&lt;global.save_request
{
    if 0&lt;global.save_after
    {
        screen_alpha = 0.5
    }
}

if screen_alpha != 0
{
    draw_set_color(c_black)
    draw_set_alpha(screen_alpha)
    
    draw_rectangle(-5,-5,display_get_gui_width()+5,display_get_gui_height()+5,0)
    
    draw_set_alpha(1)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
