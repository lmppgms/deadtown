<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_boss1_head</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-25</depth>
  <persistent>0</persistent>
  <parentName>par_boss</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>hp = 10000
hp_max = 10000

hp_recover = 1

exp_point = 1000

move_position = 0

move_speed = 22

body_number = 50
body_length = 30

body_width = 120

body_angle_max = 4

for(i=0; i&lt;body_number+1; i++)
{
    body_x[i] = x //-body_length*i
    body_y[i] = y
    body_red[i] = 0
}

attack = 1
attack_time = 30*5
alarm[0] = attack_time

attack_range = 300

damage = 3
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// audio
audio_init()
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>301</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_set_alarm</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>30*7</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>1</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// audio
audio_free()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>audio_play(snd_boss1)
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>301</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_set_alarm</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>30*7</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>1</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if attack
{attack = 0}
else
{attack = 1}
alarm[0] = attack_time
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
bangle = point_direction(body_x[1],body_y[1],body_x[0],body_y[0])
move_position += move_speed

if body_length &lt;= move_position
{
    move_position -= body_length
    for(i=body_number; 1&lt;=i; i--)
    {
        body_x[i] = body_x[i-1]
        body_y[i] = body_y[i-1]
    }
    
    bangle = point_direction(body_x[2],body_y[2],body_x[1],body_y[1])
    go_dir = 0
    if attack
    {
        if angle_difference(bangle,point_direction(x,y,obj_player.x,obj_player.y))&lt;0
        {go_dir = body_angle_max}
        if angle_difference(bangle,point_direction(x,y,obj_player.x,obj_player.y))&gt;0
        {go_dir = -body_angle_max}
    }
    else
    {
        if angle_difference(bangle,point_direction(x,y,obj_player.x,obj_player.y))&lt;0
        {go_dir = body_angle_max/2}
        if angle_difference(bangle,point_direction(x,y,obj_player.x,obj_player.y))&gt;0
        {go_dir = -body_angle_max/2}
    }
    if point_distance(x,y,obj_player.x,obj_player.y)&lt;attack_range
    {go_dir = choose(-body_angle_max/4,body_angle_max/4)}
    
    
    body_x[0] += lengthdir_x(body_length,bangle+go_dir)
    body_y[0] += lengthdir_y(body_length,bangle+go_dir)
}
x = body_x[0]
y = body_y[0]

//// attack ////

for(i=0; i&lt;body_number; i+=3 ) /// every 3 blocks
{
    dir = point_direction(body_x[i+1],body_y[i+1],body_x[i],body_y[i])
    
    xx = body_x[i+1] + lengthdir_x(move_position,dir)
    yy = body_y[i+1] + lengthdir_y(move_position,dir)
    
    if point_distance(xx,yy, obj_player.x,obj_player.y) &lt; body_width/2
    {
        obj_player.hp -= damage
        if i == 0
        {
            obj_player.hp -= damage
        }
        
        if (obj_player_body.attacked == 0)
        {
            obj_player_body.attacked = 1
            obj_player_body.alarm[0] = obj_player_body.attacked_delay
        
            dd = point_direction(x,y,obj_player_body.x,obj_player_body.y)
            particle_burst(sys_particle.p_part_blood_player,x,y,dd,10,4)
            particle_burst_up(sys_particle.p_part_blood_up_player,x,y,dd,10,4)
            
            if obj_player.buff_painkiller
            {
                view_a_move = choose(-1,1)*random_range(5,8)
                view_effect_position(5)
                view_effect_closeup(50)
            }
            else
            {
                view_a_move = choose(-1,1)*random_range(8,11)
                view_effect_position(7)
                view_effect_closeup(60)
            }
            
            view_effect_angle_plus(view_a_move)
            
            with(obj_player){audio_play(snd_hit2)}
        }
    }
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///audio
audio_update()
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// death
if hp&lt;0
{
    achievement_plus(8)
    
    rpg_exp_get(exp_point)
    ins = instance_create(obj_player.x,obj_player.y,obj_boss_rewards)
    ins.boss_type = 1
    
    ui_message_type(lang_get("Centipede")+" "+lang_get("You killed it"))
    instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// red
for(i=0; i&lt;body_number+1; i++)
{
    if 0 &lt; body_red[i]
    {
        body_red[i] -= 0.02
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// hp recover
hp += hp_recover
if hp_max &lt; hp
{hp = hp_max}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

for(i=body_number-1; 0&lt;=i; i--)
{
    dir = point_direction(body_x[i+1],body_y[i+1],body_x[i],body_y[i])
    
    xx = body_x[i+1] + lengthdir_x(move_position,dir)
    yy = body_y[i+1] + lengthdir_y(move_position,dir)
    
    if i==body_number-1
    {
        draw_sprite_ext(spr_boss1_tail,0,xx,yy,1,1,dir,make_colour_rgb(255,255-body_red[i]*256,255-body_red[i]*256),1)
    }
    else
    {
        draw_sprite_ext(spr_boss1_body,0,xx,yy,1,1,dir,make_colour_rgb(255,255-body_red[i]*256,255-body_red[i]*256),1)
    }
}

draw_sprite_ext(spr_boss1_head,0,xx,yy,1,1,dir,c_white,1)
draw_set_color(c_white)
draw_text(x,y,string(hp))
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
